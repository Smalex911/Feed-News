webpackJsonp([1,2],[,,,,,,,,,,,,function(t,e,i){"use strict";var a=i(3),n=i(57),r=(i.n(n),i(34)),c=i(35),s=i(36);i.d(e,"a",function(){return o}),i.i(n.sync)(s.a,c.a);var o=new a.a(Object.assign({router:c.a,store:s.a},r.a))},function(t,e,i){"use strict";var a=i(45),n=i.n(a);window.Promise=window.Promise||n.a},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(44),n=i.n(a);n.a.install({onUpdateReady:function(){console.log("update ready"),n.a.applyUpdate()},onUpdated:function(){console.log("updated"),location.reload()}})},function(t,e){t.exports={page:"page",page__title:"page__title","cities-list":"cities-list","city-card":"city-card","city-card__content":"city-card__content","city-card__content__status-icon":"city-card__content__status-icon","city-card__content__condition":"city-card__content__condition","city-card__content__temperature":"city-card__content__temperature","city-card__content__title":"city-card__content__title","city-card__remove":"city-card__remove","day-cell":"day-cell","day-cell__title":"day-cell__title","day-cell__status-icon":"day-cell__status-icon","day-cell__temperature":"day-cell__temperature","day-cell__temperature__day":"day-cell__temperature__day","day-cell__temperature__night":"day-cell__temperature__night","search-panel__input":"search-panel__input","search-panel__list__item":"search-panel__list__item","details-page":"details-page","details-page__status-icon":"details-page__status-icon","details-page__temperature":"details-page__temperature","details-page__table":"details-page__table","details-page__back-link":"details-page__back-link",container:"container"}},function(t,e){t.exports={apiKey:"71676e8c9a794ec683e153910172507"}},,,,,,,,,,,,,,,,,,function(t,e,i){"use strict";e.a={render:function(t){return t("div",{attrs:{id:"app"}},[t("router-view",null,[])])}}},function(t,e,i){"use strict";var a=i(3),n=i(56),r=i(51),c=i.n(r),s=(i(37),i(50)),o=i.n(s);a.a.use(n.a),e.a=new n.a({mode:"history",routes:[{path:"/",component:c.a},{name:"city",path:"/city/:cityName",component:o.a}]})},function(t,e,i){"use strict";var a=i(3),n=i(58),r=i(5),c=i.n(r),s=i(16);i.n(s);a.a.use(n.a);var o={currentCity:{temperature:"",name:"",description:"",imgUrl:"",forecast:[]},favouriteCityList:[]},u={favouriteCityList:function(t){return t.favouriteCityList.map(function(t,e){return t.temperature||p.dispatch("getWeatherForCityList",{index:e,city:t.name}),t})}},_={setWeather:function(t,e){var i=e.current,a=i.temp_c,n=i.condition;t.currentCity=Object.assign({},t.currentCity,{temperature:a,description:n.text,imgUrl:n.icon})},setCity:function(t,e){t.currentCity.name=e},setNotFound:function(t){t.currentCity={temperature:"",name:null,description:"",imgUrl:""}},addToFavourite:function(t,e){var i=e.cityName,a=e.weather,n={name:i,temperature:a.current.temp_c,conditionText:a.current.condition.text,icon_url:a.current.condition.icon};t.favouriteCityList.push(n),c.a.post("http://localhost:3000/cities",n)},removeFromFavourite:function(t,e){var i=t.favouriteCityList.findIndex(function(t){return e.id===t.id});t.favouriteCityList.splice(i,1),c.a.delete("http://localhost:3000/cities/"+e.id)},setWeatherForCityInList:function(t,e){var i=e.index,a=e.weather;t.favouriteCityList[i].conditionText=a.current.condition.text,t.favouriteCityList[i].temperature=a.current.temp_c,t.favouriteCityList[i].icon_url=a.current.condition.icon},forecastLoaded:function(t,e){var i=e.current,a=i.temp_c,n=i.condition;t.currentCity=Object.assign({},t.currentCity,{temperature:a,description:n.text,imgUrl:n.icon}),t.currentCity.forecast=e.forecast.forecastday},setCities:function(t,e){t.favouriteCityList=e}},d={getWeather:function(t){var e=t.commit;l.current(o.currentCity.name,function(t){e("setWeather",t.data)},function(){return e("setNotFound")})},searchCity:function(t,e){t.state;return new Promise(function(t,i){l.search(e,t,i)})},getFavList:function(t){var e=t.commit;c.a.get("http://localhost:3000/cities").then(function(t){e("setCities",t.data)}).catch(function(){return e("setNotFound")})},getWeatherForCityList:function(t,e){var i=t.commit,a=e.index,n=e.city;l.current(n,function(t){i("setWeatherForCityInList",{index:a,weather:t.data})},null)},addToFavourite:function(t,e){var i=t.commit;l.current(e,function(t){i("addToFavourite",{cityName:e,weather:t.data})},null)},loadForecast:function(t){var e=t.commit;l.forecast(o.currentCity.name,function(t){e("forecastLoaded",t.data)},null)}},l={current:function(t,e,i){c.a.get("http://api.apixu.com/v1/current.json?key="+s.apiKey+"&q="+t).then(e).catch(i)},search:function(t,e,i){c.a.get("http://api.apixu.com/v1/search.json?key="+s.apiKey+"&q="+t).then(function(t){return e(t.data)}).catch(function(){return i()})},forecast:function(t,e,i){c.a.get("http://api.apixu.com/v1/forecast.json?key="+s.apiKey+"&q="+t+"&days=5").then(e).catch(i)}},p=new n.a.Store({state:o,getters:u,mutations:_,actions:d});e.a=p},function(t,e,i){"use strict"},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={computed:{getCity:function(){return this.$store.state.currentCity},getForecast:function(){return this.$store.state.currentCity.forecast}},mounted:function(){this.$store.commit("setCity",this.$route.params.cityName),this.$store.dispatch("loadForecast")}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(5);i.n(a);e.default={methods:{searchCity:function(t){var e=this;this.$store.dispatch("searchCity",t).then(function(t){e.foundedCityList=t.filter(function(t){return-1===e.$store.state.favouriteCityList.findIndex(function(e){return t.id===e.id})})}).catch(function(){return e.foundedCityList=[]})},addToFav:function(t){this.foundedCityList=[],this.$store.dispatch("addToFavourite",t.name)}},computed:{getFavouriteCityList:function(){return this.$store.getters.favouriteCityList}},data:function(){return{foundedCityList:[]}},mounted:function(){this.$store.dispatch("getFavList")}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(48),n=i.n(a);e.default={components:{CityCard:n.a}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(49),n=i.n(a);e.default={components:{List:n.a}}},,,,,,,function(t,e,i){var a=i(1)(i(38),i(55),null,null);t.exports=a.exports},function(t,e,i){var a=i(1)(i(39),i(52),null,null);t.exports=a.exports},function(t,e,i){var a=i(1)(i(40),i(54),null,null);t.exports=a.exports},function(t,e,i){var a=i(1)(i(41),i(53),null,null);t.exports=a.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container"},[i("h1",{staticClass:"page__title"},[t._v("Weather")]),t._v(" "),i("div",{staticClass:"search-panel"},[i("input",{staticClass:"search-panel__input",attrs:{type:"search",placeholder:"Search city"},on:{input:function(e){t.searchCity(e.target.value)}}}),t._v(" "),i("div",{staticClass:"search-panel__list"},t._l(t.foundedCityList,function(e){return i("div",{staticClass:"search-panel__list__item",on:{click:function(i){t.addToFav(e)}}},[t._v("\n                "+t._s(e.name)+"\n            ")])}))]),t._v(" "),0===t.foundedCityList.length?i("div",{staticClass:"cities-list"},t._l(t.getFavouriteCityList,function(e){return i("div",{staticClass:"city-card",attrs:{href:"/city/"+e.name}},[i("router-link",{staticClass:"city-card__content",attrs:{to:"/city/"+e.name}},[i("div",{staticClass:"city-card__content__status-icon",style:{"background-image":"url("+e.icon_url+")"}}),t._v(" "),i("div",{staticClass:"city-card__content__condition"},[t._v(t._s(e.conditionText))]),t._v(" "),i("div",{staticClass:"city-card__content__temperature"},[t._v(t._s(e.temperature)+"°C")]),t._v(" "),i("div",{staticClass:"city-card__content__title"},[t._v(t._s(e.name))])]),t._v(" "),i("button",{staticClass:"city-card__remove",on:{click:function(i){t.$store.commit("removeFromFavourite",e)}}},[t._v("Remove from fav")])],1)})):t._e()])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page"},[i("List")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page"},[i("CityCard")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"container details-page"},[i("h1",{staticClass:"page__title"},[t._v(t._s(t.getCity.name))]),t._v(" "),i("div",{staticClass:"details-page__status-icon"},[i("img",{attrs:{src:t.getCity.imgUrl}})]),t._v(" "),i("div",{staticClass:"details-page__temperature"},[t._v("\n        "+t._s(t.getCity.temperature)+"°C\n    ")]),t._v(" "),i("div",{staticClass:"details-page__table"},t._l(t.getForecast,function(e){return i("div",{staticClass:"details-page__table__column"},[i("div",{staticClass:"day-cell"},[i("div",{staticClass:"day-cell__title"},[t._v(t._s(e.date))]),t._v(" "),i("div",{staticClass:"day-cell__status-icon",style:{"background-image":"url("+e.day.condition.icon+")"}}),t._v(" "),i("div",{staticClass:"day-cell__temperature"},[i("div",{staticClass:"day-cell__temperature__day"},[t._v(t._s(e.day.maxtemp_c)+" Max temperature")]),t._v(" "),i("div",{staticClass:"day-cell__temperature__night"},[t._v(t._s(e.day.mintemp_c)+" Min temperature")])])])])})),t._v(" "),i("router-link",{staticClass:"details-page__back-link",attrs:{to:"/"}},[t._v("Return to cities list")])],1)},staticRenderFns:[]}},,,,function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=(i(13),i(12)),n=i(15);i.n(n);i(14),a.a.$mount("#app")}],[59]);
//# sourceMappingURL=client.7232eb6e.js.map